<?xml version="1.0" encoding="UTF-8"?>
<pipeline>
  <info>
    <name>extractMapaAnualFromEgeman</name>
    <name_sync_with_filename>Y</name_sync_with_filename>
    <description/>
    <extended_description/>
    <pipeline_version/>
    <pipeline_type>Normal</pipeline_type>
    <parameters>
    </parameters>
    <capture_transform_performance>N</capture_transform_performance>
    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>
    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>
    <created_user>-</created_user>
    <created_date>2023/04/28 10:22:44.926</created_date>
    <modified_user>-</modified_user>
    <modified_date>2023/04/28 10:22:44.926</modified_date>
  </info>
  <notepads>
  </notepads>
  <order>
    <hop>
      <from>Get MapaAnual</from>
      <to>Select values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values</from>
      <to>Data Carga</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Data Carga</from>
      <to>Sort rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sort rows</from>
      <to>Parquet Output </to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <transform>
    <name>Data Carga</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>dataCarga</name>
        <type>system date (variable)</type>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>560</xloc>
      <yloc>128</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Get MapaAnual</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>DBO_ORACLE_ENGEMAN</connection>
    <execute_each_row>N</execute_each_row>
    <limit>0</limit>
    <sql>SELECT MAIN_QUERY_X.*,
       (
        CASE
        WHEN PRAZO_DO_PLANO LIKE 'N%' THEN 0
        ELSE ROUND((SYSDATE - PROXIMA_MANUTENCAO),0)
        END
       )TEMPO_VENCIDO
FROM
(
SELECT MAIN_QUERY.*, 
      (CASE
       WHEN (SYSDATE - PROXIMA_MANUTENCAO) > 0   
       THEN 'VENCIDO'
       WHEN (SYSDATE - PROXIMA_MANUTENCAO) > -15  AND  (SYSDATE - PROXIMA_MANUTENCAO) &lt; 0 
       THEN 'PROXIMO A VENCER'
       ELSE 'EM FLUXO'
       END
      )PRAZO_DO_PLANO
FROM
(
SELECT DISTINCT
	  AP.CODAPL AS CODEQUIPAMENTO,
      Q1.CODPLA AS CODPLAQ1,
      PM.CODPLA AS CODPLAPM,
      FL.CODFIL AS CODFIL,
      TE.U_PK_REDUZIDO AS CODDISCIPLINA,
      PM.TAG AS TAGPLANO,
      FL.RAZSOC AS NAVIO,
      PM.DESCRICAO AS PLANO,
      TE.U_DESCRIC AS DISCIPLINA,  
      AP.TAG AS TAGEQUIP,
      AP.DESCRICAO AS EQUIPAMENTO,
      ROUND(PS.HOREXEPRE,2) AS HHPREVISTO, 
      Q1.ULTIMA_MANUT, 
      QH.ULT_HORIMETRO,
      QX.MEDIA_HORIMETRO_MES,
      Q1.TIPO_PLANO,
      CASE 
      	WHEN Q1.TIPO_PLANO = 'DATA ESPECIFICA' THEN 1
      	WHEN Q1.TIPO_PLANO = 'ACUMULATIVO'     THEN 2
      	WHEN Q1.TIPO_PLANO = 'PERIODICO'       THEN 3
      END AS CODTIPOPLANO,
      Q1.PERIODICIDADE,
      (
         CASE 
         WHEN Q1.TIPO_PLANO LIKE '%PER%' THEN (Q1.ULTIMA_MANUT + Q1.PERIODICIDADE)
         WHEN Q1.TIPO_PLANO LIKE '%ACU%' THEN (Q1.ULTIMA_MANUT + 30*(Q1.PERIODICIDADE/QX.MEDIA_HORIMETRO_MES))
         ELSE Q1.ULTIMA_MANUT
         END         
      ) AS PROXIMA_MANUTENCAO,
      (
         CASE 
         WHEN Q1.TIPO_PLANO LIKE '%PER%' THEN TO_CHAR((Q1.ULTIMA_MANUT + Q1.PERIODICIDADE),'WW')
         WHEN Q1.TIPO_PLANO LIKE '%ACU%' THEN TO_CHAR((Q1.ULTIMA_MANUT + 30*(Q1.PERIODICIDADE/QX.MEDIA_HORIMETRO_MES)),'WW')
         ELSE TO_CHAR(Q1.ULTIMA_MANUT,'WW')
         END         
      ) AS SEMANA_PROXMANUT,
      SE.DESCRICAO AS SETOR_EXECUTANTE,
      SE.CODSET,
      QQ.TEM_QQP,
      QQP2.*
      --(CASE WHEN QQP."VALOR TOTAL" IS NOT NULL THEN QQP."VALOR TOTAL" ELSE 0 END) AS "VALOR TOTAL"
FROM
(
        SELECT DISTINCT CODPLA,CODAPL,DATULTMAN as ULTIMA_MANUT,'DATA ESPECIFICA' AS TIPO_PLANO,0 AS PERIODICIDADE FROM ENGEMANTVVLOGIN.PLADAT WHERE CODEMP=1 AND ATIVO='S'
        UNION ALL
        SELECT DISTINCT CODPLA,CODAPL,DATULTMAN,'ACUMULATIVO',VALOR FROM ENGEMANTVVLOGIN.PLAACU WHERE CODEMP=1 AND ATIVO='S'
        UNION ALL
        SELECT DISTINCT CODPLA,CODAPL,DATULTMAN,'PERIODICO',PERPLA FROM ENGEMANTVVLOGIN.PLAPER WHERE CODEMP=1 AND ATIVO='S'
) Q1
LEFT JOIN ENGEMANTVVLOGIN.PLAMANUT PM ON PM.CODPLA=Q1.CODPLA
LEFT JOIN ENGEMANTVVLOGIN.APLIC AP ON AP.CODAPL=Q1.CODAPL
LEFT JOIN ENGEMANTVVLOGIN.FILIAL FL ON FL.CODFIL=AP.CODFIL
LEFT JOIN ENGEMANTVVLOGIN.USER_TIPENG TE ON TE.U_PK_REDUZIDO=PM.R_USER_TIPENG_U_PK_REDUZIDO
LEFT JOIN ENGEMANTVVLOGIN.PLAXSET PS ON PS.CODPLA=Q1.CODPLA
LEFT JOIN ENGEMANTVVLOGIN.SETEXE SE ON SE.CODSET=PS.CODSET
LEFT JOIN  (
            SELECT
                  USER_QQPPLA.R_PLAMANUT_CODPLA AS CODPLA,
                  USER_QQPPLA.U_NUMLINHA        AS QQP_NUMERO_DA_LINHA,
                  USER_QQPPLA.U_CUSPROJ         AS QQP_CUSTEIO_PROJETO,
                  USER_QQPPLA.U_MATSERV         AS QQP_MATERIAL_SERVICO,
                  USER_QQPPLA.U_NUMCONTA        AS QQP_NUMERO_DA_CONTA,
                  USER_QQPPLA.U_DESCCONT        AS QQP_DESCRICAO_CONTA,
                  USER_QQPPLA.U_QTDE            AS QQP_QUANTIDADE,
                  MATERIAL.TAG                  AS QQP_COD_KLASSMATT,
                  UNIDADE.DESCRICAO             AS QQP_UNIDADE_DE_MEDIDA,
                  UNIDADE.CODUNI				AS QQP_COD_UNIDADE_DE_MEDIDA,
                  MOEDA.DESCRICAO               AS QQP_MOEDA,
                  MOEDA.CODMOE					AS QQP_COD_MOEDA,
                  MATERIAL.VALOR                AS QQP_VALOR_UNIT,
                  (MATERIAL.VALOR*USER_QQPPLA.U_QTDE) AS QQP_VALOR_TOTAL,
                  MATERIAL.DESCRICAO            AS QQP_DESCRICAO_DO_MATERIAL,
                  MATERIAL.CODMAT				AS QQP_COD_MATERIAL,
                  QU.ESTOCAVEL                  AS ESTOCAVEL                                 
            
            FROM ENGEMANTVVLOGIN.USER_QQPPLA
            INNER JOIN ENGEMANTVVLOGIN.MATERIAL ON USER_QQPPLA.R_MATERIAL_CODMAT = MATERIAL.CODMAT
            INNER JOIN ENGEMANTVVLOGIN.UNIDADE  ON USER_QQPPLA.R_UNIDADE_CODUNI  = UNIDADE.CODUNI  
            INNER JOIN ENGEMANTVVLOGIN.MOEDA    ON USER_QQPPLA.R_MOEDA_CODMOE    = MOEDA.CODMOE
            LEFT  JOIN (
                          SELECT DISTINCT USER_QQP.U_ESTOC AS ESTOCAVEL, USER_QQP.R_MATERIAL_CODMAT AS CODMAT,USER_QQP.DATALT 
                          FROM ENGEMANTVVLOGIN.USER_QQP
                          LEFT JOIN ENGEMANTVVLOGIN.MATERIAL ON MATERIAL.CODMAT = USER_QQP.R_MATERIAL_CODMAT
                          WHERE USER_QQP.U_ESTOC IS NOT NULL
                        ) QU ON QU.CODMAT = USER_QQPPLA.R_MATERIAL_CODMAT
            ORDER BY USER_QQPPLA.U_NUMLINHA
           ) QQP2 ON QQP2.CODPLA=Q1.CODPLA

LEFT JOIN (SELECT PM.CODPLA,CASE WHEN SUM(UQ.U_QTDE) IS NOT NULL THEN 'S' ELSE 'N' END AS TEM_QQP
           FROM ENGEMANTVVLOGIN.PLAMANUT PM
           LEFT JOIN ENGEMANTVVLOGIN.USER_QQPPLA UQ ON UQ.R_PLAMANUT_CODPLA=PM.CODPLA
           GROUP BY PM.CODPLA)  QQ ON QQ.CODPLA=PM.CODPLA
           
LEFT JOIN  (
            SELECT  SUM(VALOR_TOTAL) AS VALOR_TOTAL, CODPLA
            FROM
            (
                    SELECT
                          USER_QQPPLA.R_PLAMANUT_CODPLA AS CODPLA,                          
                          (MATERIAL.VALOR*USER_QQPPLA.U_QTDE) AS VALOR_TOTAL                               
                    
                    FROM ENGEMANTVVLOGIN.USER_QQPPLA
                    INNER JOIN ENGEMANTVVLOGIN.MATERIAL ON USER_QQPPLA.R_MATERIAL_CODMAT = MATERIAL.CODMAT
             ) GROUP BY CODPLA
           ) QQP ON QQP.CODPLA=Q1.CODPLA
           
LEFT JOIN (SELECT  MAX(VALOR) AS ULT_HORIMETRO, CODAPL, MES, ANO 
           FROM (
                  SELECT VALOR, CODAPL,EXTRACT(MONTH FROM DATHOR) as MES,EXTRACT(YEAR FROM DATHOR) AS ANO 
                  FROM ENGEMANTVVLOGIN.COLACU
                 )GROUP BY CODAPL,MES,ANO 
           )QH 
           ON QH.CODAPL=Q1.CODAPL 
           AND QH.ANO = EXTRACT(YEAR  FROM Q1.ULTIMA_MANUT) 
           AND QH.MES = EXTRACT(MONTH FROM Q1.ULTIMA_MANUT)
           
LEFT JOIN (

SELECT ROUND(AVG(RH),2) AS MEDIA_HORIMETRO_MES, CODAPL FROM(
SELECT SUM(RH) AS RH,CODAPL,MES,ANO FROM (
SELECT 
      CODAPL,
      HORIMETRO,
      DATAHORIMETRO,
      DATHOR2
      CODAPL2,
      EXTRACT(MONTH FROM DATAHORIMETRO) AS MES,
      EXTRACT(YEAR  FROM DATAHORIMETRO) AS ANO,
      (CASE 
        WHEN CODAPL2=CODAPL AND NOT CODAPL2=0
        THEN (HORIMETRO - PREV_HOR) 
        ELSE -3.14
        END
       )RH
FROM
(
  SELECT
          QUERY_1.CODAPL,
          QUERY_1.HORIMETRO,
          QUERY_1.DATAHORIMETRO,
          LAG(DATAHORIMETRO,1,'01/01/1999') OVER (ORDER BY CODAPL,DATAHORIMETRO) AS DATHOR2,
          LAG(HORIMETRO,1,0) OVER (ORDER BY CODAPL,DATAHORIMETRO) AS PREV_HOR,
          LAG(CODAPL,1,0)    OVER (ORDER BY CODAPL,DATAHORIMETRO) AS CODAPL2          
           
  FROM
      (
          SELECT
                FILIAL.RAZSOC                 AS NAVIO,
                APLIC.CODAPL                  AS CODAPL,
                APLIC.TAG                     AS TAGEQUIP,
                APLIC.DESCRICAO               AS EQUIPAMENTO,
                COLACU.VALOR                  AS HORIMETRO,     
                COLACU.DATHOR                 AS DATAHORIMETRO
                
          FROM       ENGEMANTVVLOGIN.COLACU
          LEFT  JOIN ENGEMANTVVLOGIN.APLIC      ON COLACU.CODAPL    =   APLIC.CODAPL
          LEFT  JOIN ENGEMANTVVLOGIN.FILIAL     ON FILIAL.CODFIL    =   APLIC.CODFIL                      
          WHERE APLIC.CODEMP    =   1
          AND   APLIC.ATIVO     =   'S'   
              
          ORDER BY 
          FILIAL.RAZSOC, 
          APLIC.TAG, 
          COLACU.DATHOR
          
      ) QUERY_1
  ORDER BY CODAPL,DATAHORIMETRO
)
)WHERE RH>=0 AND ANO>2019   
GROUP BY CODAPL,ANO,MES
HAVING SUM(RH)&lt;=744 AND SUM(RH)>0
) GROUP BY CODAPL
  
) QX ON QX.CODAPL=Q1.CODAPL
           
WHERE PM.ATIVO='S'
AND FL.CODFIL IN (8,58,61,72,74,75)
AND PS.ATIVO='S'  

ORDER BY FL.RAZSOC, PM.TAG, AP.TAG
) MAIN_QUERY
) MAIN_QUERY_X</sql>
    <variables_active>N</variables_active>
    <attributes/>
    <GUI>
      <xloc>192</xloc>
      <yloc>128</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Parquet Output </name>
    <type>ParquetFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compression_codec>UNCOMPRESSED</compression_codec>
    <data_page_size>1048576</data_page_size>
    <dictionary_page_size>1048576</dictionary_page_size>
    <fields>
      <field>
        <source_field>identificacaoEquipamento</source_field>
        <target_field>identificacaoEquipamento</target_field>
      </field>
      <field>
        <source_field>identificacaoPlano</source_field>
        <target_field>identificacaoPlano</target_field>
      </field>
      <field>
        <source_field>identificacaoFililal</source_field>
        <target_field>identificacaoFililal</target_field>
      </field>
      <field>
        <source_field>identificacaoTipoPlano</source_field>
        <target_field>identificacaoTipoPlano</target_field>
      </field>
      <field>
        <source_field>identificacaoMoedaQQP</source_field>
        <target_field>identificacaoMoedaQQP</target_field>
      </field>
      <field>
        <source_field>identificacaoSetorExecutante</source_field>
        <target_field>identificacaoSetorExecutante</target_field>
      </field>
      <field>
        <source_field>identificacaoMaterialQQP</source_field>
        <target_field>identificacaoMaterialQQP</target_field>
      </field>
      <field>
        <source_field>identificacaoUnidadeMedida</source_field>
        <target_field>identificacaoUnidadeMedida</target_field>
      </field>
      <field>
        <source_field>identificacaoDisciplina</source_field>
        <target_field>identificacaoDisciplina</target_field>
      </field>
      <field>
        <source_field>tagPlano</source_field>
        <target_field>tagPlano</target_field>
      </field>
      <field>
        <source_field>filial</source_field>
        <target_field>filial</target_field>
      </field>
      <field>
        <source_field>plano</source_field>
        <target_field>plano</target_field>
      </field>
      <field>
        <source_field>disciplina</source_field>
        <target_field>disciplina</target_field>
      </field>
      <field>
        <source_field>tagEquipamento</source_field>
        <target_field>tagEquipamento</target_field>
      </field>
      <field>
        <source_field>equipamento</source_field>
        <target_field>equipamento</target_field>
      </field>
      <field>
        <source_field>homemHoraPrevisto</source_field>
        <target_field>homemHoraPrevisto</target_field>
      </field>
      <field>
        <source_field>ultimaManutencao</source_field>
        <target_field>ultimaManutencao</target_field>
      </field>
      <field>
        <source_field>ultimoHorimetro</source_field>
        <target_field>ultimoHorimetro</target_field>
      </field>
      <field>
        <source_field>mediaHorimetroMes</source_field>
        <target_field>mediaHorimetroMes</target_field>
      </field>
      <field>
        <source_field>tipoPlano</source_field>
        <target_field>tipoPlano</target_field>
      </field>
      <field>
        <source_field>periodicidade</source_field>
        <target_field>periodicidade</target_field>
      </field>
      <field>
        <source_field>proximaManutencao</source_field>
        <target_field>proximaManutencao</target_field>
      </field>
      <field>
        <source_field>semanaProximaManutencao</source_field>
        <target_field>semanaProximaManutencao</target_field>
      </field>
      <field>
        <source_field>setorExecutante</source_field>
        <target_field>setorExecutante</target_field>
      </field>
      <field>
        <source_field>temQQP</source_field>
        <target_field>temQQP</target_field>
      </field>
      <field>
        <source_field>codigoPlano</source_field>
        <target_field>codigoPlano</target_field>
      </field>
      <field>
        <source_field>numeroLinhaQQP</source_field>
        <target_field>numeroLinhaQQP</target_field>
      </field>
      <field>
        <source_field>custeioProjetoQQP</source_field>
        <target_field>custeioProjetoQQP</target_field>
      </field>
      <field>
        <source_field>materialServicoQQP</source_field>
        <target_field>materialServicoQQP</target_field>
      </field>
      <field>
        <source_field>numeroContaQQP</source_field>
        <target_field>numeroContaQQP</target_field>
      </field>
      <field>
        <source_field>descricaoContaQQP</source_field>
        <target_field>descricaoContaQQP</target_field>
      </field>
      <field>
        <source_field>quantidadeQQP</source_field>
        <target_field>quantidadeQQP</target_field>
      </field>
      <field>
        <source_field>codigoKLASSMATTQQP</source_field>
        <target_field>codigoKLASSMATTQQP</target_field>
      </field>
      <field>
        <source_field>unidadeMedidaQQP</source_field>
        <target_field>unidadeMedidaQQP</target_field>
      </field>
      <field>
        <source_field>moedaQQP</source_field>
        <target_field>moedaQQP</target_field>
      </field>
      <field>
        <source_field>valorUnitarioQQP</source_field>
        <target_field>valorUnitarioQQP</target_field>
      </field>
      <field>
        <source_field>valorTotalQQP</source_field>
        <target_field>valorTotalQQP</target_field>
      </field>
      <field>
        <source_field>descricaoMaterialQQP</source_field>
        <target_field>descricaoMaterialQQP</target_field>
      </field>
      <field>
        <source_field>estocavel</source_field>
        <target_field>estocavel</target_field>
      </field>
      <field>
        <source_field>prazoPlano</source_field>
        <target_field>prazoPlano</target_field>
      </field>
      <field>
        <source_field>tempoVencido</source_field>
        <target_field>tempoVencido</target_field>
      </field>
      <field>
        <source_field>dataCarga</source_field>
        <target_field>dataCarga</target_field>
      </field>
    </fields>
    <filename_base>${LAKEHOUSE}\GerenciaDeManutencao\ManutencaoDeFrota\MapaAnual</filename_base>
    <filename_create_parent_folders>Y</filename_create_parent_folders>
    <filename_datetime_format>yyyyMMdd-HHmmss</filename_datetime_format>
    <filename_ext>parquet</filename_ext>
    <filename_include_copy>N</filename_include_copy>
    <filename_include_date>N</filename_include_date>
    <filename_include_datetime>N</filename_include_datetime>
    <filename_include_split>N</filename_include_split>
    <filename_include_time>N</filename_include_time>
    <filename_split_size>1000000</filename_split_size>
    <row_group_size>20000</row_group_size>
    <version>1.0</version>
    <attributes/>
    <GUI>
      <xloc>896</xloc>
      <yloc>128</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>CODEQUIPAMENTO</name>
        <rename>identificacaoEquipamento</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODPLAQ1</name>
        <rename>identificacaoPlano</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODFIL</name>
        <rename>identificacaoFililal</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODDISCIPLINA</name>
        <rename>identificacaoDisciplina</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODTIPOPLANO</name>
        <rename>identificacaoTipoPlano</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_COD_UNIDADE_DE_MEDIDA</name>
        <rename>identificacaoUnidadeMedida</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_COD_MOEDA</name>
        <rename>identificacaoMoedaQQP</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_COD_MATERIAL</name>
        <rename>identificacaoMaterialQQP</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODSET</name>
        <rename>identificacaoSetorExecutante</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TAGPLANO</name>
        <rename>tagPlano</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PLANO</name>
        <rename>plano</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NAVIO</name>
        <rename>filial</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>DISCIPLINA</name>
        <rename>disciplina</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TAGEQUIP</name>
        <rename>tagEquipamento</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>EQUIPAMENTO</name>
        <rename>equipamento</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>HHPREVISTO</name>
        <rename>homemHoraPrevisto</rename>
        <type>BigNumber</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>ULTIMA_MANUT</name>
        <rename>ultimaManutencao</rename>
        <type>Date</type>
        <length>0</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd HH:mm:ss</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>ULT_HORIMETRO</name>
        <rename>ultimoHorimetro</rename>
        <type>BigNumber</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>MEDIA_HORIMETRO_MES</name>
        <rename>mediaHorimetroMes</rename>
        <type>BigNumber</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_PLANO</name>
        <rename>tipoPlano</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PERIODICIDADE</name>
        <rename>periodicidade</rename>
        <type>BigNumber</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PROXIMA_MANUTENCAO</name>
        <rename>proximaManutencao</rename>
        <type>Date</type>
        <length>0</length>
        <precision>-2</precision>
        <conversion_mask>yyyy-MM-dd HH:mm:ss</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>SEMANA_PROXMANUT</name>
        <rename>semanaProximaManutencao</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>SETOR_EXECUTANTE</name>
        <rename>setorExecutante</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TEM_QQP</name>
        <rename>temQQP</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODPLA</name>
        <rename>codigoPlano</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_NUMERO_DA_LINHA</name>
        <rename>numeroLinhaQQP</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_CUSTEIO_PROJETO</name>
        <rename>custeioProjetoQQP</rename>
        <type>String</type>
        <length>128</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_MATERIAL_SERVICO</name>
        <rename>materialServicoQQP</rename>
        <type>String</type>
        <length>128</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_NUMERO_DA_CONTA</name>
        <rename>numeroContaQQP</rename>
        <type>BigNumber</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_DESCRICAO_CONTA</name>
        <rename>descricaoContaQQP</rename>
        <type>String</type>
        <length>250</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_QUANTIDADE</name>
        <rename>quantidadeQQP</rename>
        <type>Integer</type>
        <length>50</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_COD_KLASSMATT</name>
        <rename>codigoKLASSMATTQQP</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_UNIDADE_DE_MEDIDA</name>
        <rename>unidadeMedidaQQP</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_MOEDA</name>
        <rename>moedaQQP</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_VALOR_UNIT</name>
        <rename>valorUnitarioQQP</rename>
        <type>Number</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_VALOR_TOTAL</name>
        <rename>valorTotalQQP</rename>
        <type>Number</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>QQP_DESCRICAO_DO_MATERIAL</name>
        <rename>descricaoMaterialQQP</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>ESTOCAVEL</name>
        <rename>estocavel</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PRAZO_DO_PLANO</name>
        <rename>prazoPlano</rename>
        <type>String</type>
        <length>255</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TEMPO_VENCIDO</name>
        <rename>tempoVencido</rename>
        <type>Number</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <GUI>
      <xloc>384</xloc>
      <yloc>128</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Sort rows</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>${java.io.tmpdir}</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>identificacaoPlano</name>
        <ascending>N</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>704</xloc>
      <yloc>128</yloc>
    </GUI>
  </transform>
  <transform_error_handling>
  </transform_error_handling>
  <attributes/>
</pipeline>
